
















































































	.text
	.align	32, 0x90
	.globl	__gmpn_popcount
	
	.def	__gmpn_popcount
	.scl	2
	.type	32
	.endef
__gmpn_popcount:

	push	%rdi
	push	%rsi
	mov	%rcx, %rdi
	mov	%rdx, %rsi


	mov	%esi, %r8d
	and	$7, %r8d

	.byte	0xf3,0x48,0x0f,0xb8,0x07	
	xor	%ecx, %ecx

	lea	Ltab(%rip), %r9

	movslq	(%r9,%r8,4), %r8
	add	%r9, %r8
	jmp	*%r8


L3:	.byte	0xf3,0x4c,0x0f,0xb8,0x57,0x08	
	.byte	0xf3,0x4c,0x0f,0xb8,0x5f,0x10	
	add	$24, %rdi
	sub	$8, %rsi
	jg	Le34
	add	%r10, %rax
	add	%r11, %rax
Ls1:	pop	%rsi
	pop	%rdi
	ret

L1:	sub	$8, %rsi
	jle	Ls1
	.byte	0xf3,0x4c,0x0f,0xb8,0x47,0x08	
	.byte	0xf3,0x4c,0x0f,0xb8,0x4f,0x10	
	add	$8, %rdi
	jmp	Le12

L7:	.byte	0xf3,0x4c,0x0f,0xb8,0x57,0x08	
	.byte	0xf3,0x4c,0x0f,0xb8,0x5f,0x10	
	add	$-8, %rdi
	jmp	Le07

L0:	.byte	0xf3,0x48,0x0f,0xb8,0x4f,0x08	
	.byte	0xf3,0x4c,0x0f,0xb8,0x57,0x10	
	.byte	0xf3,0x4c,0x0f,0xb8,0x5f,0x18	
	jmp	Le07

L4:	.byte	0xf3,0x48,0x0f,0xb8,0x4f,0x08	
	.byte	0xf3,0x4c,0x0f,0xb8,0x57,0x10	
	.byte	0xf3,0x4c,0x0f,0xb8,0x5f,0x18	
	add	$32, %rdi
	sub	$8, %rsi
	jle	Lx4

	.align	16, 0x90
Ltop:
Le34:	.byte	0xf3,0x4c,0x0f,0xb8,0x07	
	.byte	0xf3,0x4c,0x0f,0xb8,0x4f,0x08	
	add	%r10, %rcx
	add	%r11, %rax
Le12:	.byte	0xf3,0x4c,0x0f,0xb8,0x57,0x10	
	.byte	0xf3,0x4c,0x0f,0xb8,0x5f,0x18	
	add	%r8, %rcx
	add	%r9, %rax
Le07:	.byte	0xf3,0x4c,0x0f,0xb8,0x47,0x20	
	.byte	0xf3,0x4c,0x0f,0xb8,0x4f,0x28	
	add	%r10, %rcx
	add	%r11, %rax
Le56:	.byte	0xf3,0x4c,0x0f,0xb8,0x57,0x30	
	.byte	0xf3,0x4c,0x0f,0xb8,0x5f,0x38	
	add	$64, %rdi
	add	%r8, %rcx
	add	%r9, %rax
	sub	$8, %rsi
	jg	Ltop

Lx4:	add	%r10, %rcx
	add	%r11, %rax
Lx2:	add	%rcx, %rax

	pop	%rsi
	pop	%rdi
	ret

L2:	.byte	0xf3,0x48,0x0f,0xb8,0x4f,0x08	
	sub	$8, %rsi
	jle	Lx2
	.byte	0xf3,0x4c,0x0f,0xb8,0x47,0x10	
	.byte	0xf3,0x4c,0x0f,0xb8,0x4f,0x18	
	add	$16, %rdi
	jmp	Le12

L5:	.byte	0xf3,0x4c,0x0f,0xb8,0x47,0x08	
	.byte	0xf3,0x4c,0x0f,0xb8,0x4f,0x10	
	add	$-24, %rdi
	jmp	Le56

L6:	.byte	0xf3,0x48,0x0f,0xb8,0x4f,0x08	
	.byte	0xf3,0x4c,0x0f,0xb8,0x47,0x10	
	.byte	0xf3,0x4c,0x0f,0xb8,0x4f,0x18	
	add	$-16, %rdi
	jmp	Le56
	
		.section .rdata,"dr"
	.align	8, 0x90
Ltab:	.long	L0-Ltab
	.long	L1-Ltab
	.long	L2-Ltab
	.long	L3-Ltab
	.long	L4-Ltab
	.long	L5-Ltab
	.long	L6-Ltab
	.long	L7-Ltab
